{"version":3,"sources":["constants.js","settings.js","contents/main/InputForm.jsx","contents/main/ConfirmOrder.jsx","contents/main/ModalDialog.jsx","contents/main/paymentOrder.jsx","contents/main/OrderFinished.jsx","contents/main/Top.jsx","contents/error/Error.jsx","contents/shared/Header.jsx","App.js","reportWebVitals.js","index.js"],"names":["constants","ORDER_STEP_NONE","ORDER_STEP_INPUT","ORDER_STEP_CONFIRM","ORDER_STEP_PAYMENT","ORDER_STEP_FINISH","PAYMENT_TYPE_JAPANESE","credit","transfer","TAX_RATE","BANK_NAME","BANK_BRANCH","BANK_ACCOUNT","BANK_ACCOUNT_NO","BANK_ACCOUNT_OWNER","TRANSFER_FEE","settings","payjpPubKey","apiUrl","validateForm","data","errMessages","name","length","push","test","email","isNaN","quantity","parseInt","join","InputForm","props","useState","orderFormData","paymentType","formData","setFormData","handleChange","e","k","target","s","value","message","nextButton","paymentTypeCombo","Object","entries","v","quantityCombo","i","Row","className","Col","xs","md","productInformation","edition","discription","price","toLocaleString","htmlFor","onChange","id","type","style","whiteSpace","Button","onClick","setOrderFormData","productId","axios","post","then","r","window","location","code","setOrderStep","catch","variant","sendOrder","setMessage","orderId","reason","getMessage","ConfirmOrder","confirmationCode","successButton","setSuccessButton","totalPrice","match","valiant","handleSubmit","ModalDialog","Modal","show","backdrop","keyboard","centered","Body","role","onClose","Footer","createOrder","cardToken","setModal","setSerialnumbers","serialnumbers","reason2Message","modalClose","PaymentOrder","modal","useEffect","body","document","getElementsByTagName","setupScriptElm","createElement","appendChild","setupScript","paied","href","createTextNode","OrderFinished","topMessage","labelMessage","rows","overflow","Top","func","orderStep","setProductInformation","initialized","setInitialized","params","queryString","parse","search","productid","info","get","software","Error","SharedHeader","App","React","addiv","getElementById","ad","firstChild","setAttribute","Container","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"+RAsBeA,EAnBG,CACdC,gBAAiB,EACjBC,iBAAkB,EAClBC,mBAAoB,EACpBC,mBAAoB,EACpBC,kBAAmB,EACnBC,sBAAuB,CACnBC,OAAQ,+DACRC,SAAU,4BAEdC,SAAU,GACVC,UAAW,8BACXC,YAAa,2BACbC,aAAc,eACdC,gBAAiB,UACjBC,mBAAoB,+JACpBC,aAAc,KCXHC,EALE,CACbC,YAAa,mCAChBC,OAAQ,qC,0CCmIHC,EAAe,SAACC,GAClB,IAAIC,EAAc,GAWlB,OAVID,EAAKE,KAAKC,OAAS,GACnBF,EAAYG,KAAK,kIAEf,qEAAqEC,KAAKL,EAAKM,QACjFL,EAAYG,KAAK,qGAEhBG,MAAMP,EAAKQ,WAAeC,SAAST,EAAKQ,WAAa,GAAOC,SAAST,EAAKQ,UAAY,KACvFP,EAAYG,KAAK,oIAGM,IAAvBH,EAAYE,OACL,GACsB,IAAvBF,EAAYE,OACX,uFAEAF,EAAYS,KAAK,OAIjBC,EArJG,SAACC,GAEf,MAAgCC,mBAAS,CACrCX,KAAMU,EAAME,cAAcZ,KAC1BI,MAAOM,EAAME,cAAcR,MAC3BE,SAAUI,EAAME,cAAcN,SAC9BO,YAAaH,EAAME,cAAcC,cAJrC,mBAAOC,EAAP,KAAiBC,EAAjB,KAMMC,EAAe,SAACC,GAClB,IAAIC,EAAID,EAAEE,OAAOnB,KACjBe,GAAY,SAAAK,GAAC,kCAASA,GAAT,kBAAaF,EAAID,EAAEE,OAAOE,YAoBvCC,EAAUzB,EAAaiB,GACvBS,GAAa,EACD,KAAZD,IACAA,EAAU,iLACVC,GAAa,GAIjB,IADA,IAAIC,EAAmB,GACvB,MAAoBC,OAAOC,QAAQhD,EAAUM,uBAA7C,eAAqE,CAAhE,0BAAOkC,EAAP,KAASS,EAAT,KACS,aAANT,EACAM,EAAiBtB,KAAK,yBAAgBmB,MAAOH,EAAvB,UAA2BS,EAAI,qDAAejD,EAAUe,cAAgB,EAAIf,EAAUS,UAAtF,YAAa+B,IAEnCM,EAAiBtB,KAAK,wBAAgBmB,MAAOH,EAAvB,SAA2BS,GAAdT,IAK3C,IADA,IAAIU,EAAgB,GACZC,EAAE,EAAGA,GAAK,GAAIA,IAClBD,EAAc1B,KAAK,yBAAgBmB,MAAOQ,EAAvB,UAA2BA,EAA3B,WAAaA,IAGpC,OAAQ,qCACJ,cAACC,EAAA,EAAD,CAAKC,UAAU,6BAAf,SACI,wEAEJ,eAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,UACI,6LACA,uuBAMJ,eAACD,EAAA,EAAD,CAAKC,UAAU,KAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,2DAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAMyB,mBAAmBnC,SAEjC,cAACgC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,6EAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAMyB,mBAAmBC,YAEjC,cAACJ,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,qDAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAGH,UAAU,OAA7B,SACI,4BAAIrB,EAAMyB,mBAAmBE,gBAEjC,cAACL,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,qDAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,8BAAIxB,SAASG,EAAMyB,mBAAmBG,OAAS,EAAI5D,EAAUS,WAAWoD,iBAAxE,eAEJ,cAACP,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,uBAAOM,QAAQ,iBAAf,oCAEP,cAACR,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,YAA9B,SACI,uBAAO/B,KAAK,OAAOqB,MAAOP,EAASd,KAAMyC,SAAUzB,EAAce,UAAU,eAAeW,GAAG,iBAAiBC,KAAK,WAEvH,cAACX,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,uBAAOM,QAAQ,kBAAf,4DAEP,cAACR,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,YAA9B,SACI,uBAAO/B,KAAK,QAAQqB,MAAOP,EAASV,MAAOqC,SAAUzB,EAAce,UAAU,eAAeW,GAAG,kBAAkBC,KAAK,WAE1H,cAACX,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,uBAAOM,QAAQ,qBAAf,0CAEP,cAACR,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,YAA7B,SACI,cAACC,EAAA,EAAD,CAAKE,GAAG,IAAR,SACI,wBAAQlC,KAAK,WAAWqB,MAAOP,EAASR,SAAUmC,SAAUzB,EAAce,UAAU,eAApF,SAAoGH,QAG5G,cAACI,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,uBAAOM,QAAQ,wBAAf,gDAEP,cAACR,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,YAA7B,SACI,cAACC,EAAA,EAAD,CAAKE,GAAG,IAAR,SACI,wBAAQlC,KAAK,cAAcqB,MAAOP,EAASD,YAAa4B,SAAUzB,EAAce,UAAU,eAA1F,SAA0GP,WAItH,eAACM,EAAA,EAAD,CAAKC,UAAU,UAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,mBAAGU,MAAO,CAACC,WAAY,YAAvB,SAAqCvB,MAEzC,cAACU,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,WAA9B,SACKR,GAAc,cAACuB,EAAA,EAAD,CAAQC,QAAS,WA7GxCrC,EAAMsC,iBAAN,2BAA2BlC,GAA3B,IAAqCmC,UAAWvC,EAAMyB,mBAAmBc,UAAW3C,SAAUC,SAASO,EAASR,aAChH4C,IAAMC,KAAKzD,EAASE,OAAS,WAAY,CAAC,MAASkB,EAASV,QAAQgD,MAAK,SAACC,GAEtE,GAAyB,iBAAXA,EAAEvD,KACZ,OAAOwD,OAAOC,SAAW,SAET,MAAhBF,EAAEvD,KAAK0D,KACP9C,EAAM+C,aAAa/E,EAAUG,oBAE7ByE,OAAOC,SAAW,WAEvBG,OAAM,SAACzC,GAENqC,OAAOC,SAAW,YAgGwCI,QAAQ,UAA/C,mCCNzBC,EAAY,SAAC9C,EAAU+C,EAAY9C,EAAa0C,GAClDP,IAAMC,KAAKzD,EAASE,OAAS,QAASkB,GAAUsC,MAAK,SAACC,GAClD,GAAyB,iBAAXA,EAAEvD,KACZ,OAAOwD,OAAOC,SAAW,SAE7B,GAAqB,MAAhBF,EAAEvD,KAAK0D,MAAkBH,EAAEvD,KAAKgE,QACjC/C,GAAY,SAAAK,GAAC,kCAASA,GAAT,IAAY0C,QAAST,EAAEvD,KAAKgE,aACzCL,EAAa/E,EAAUI,yBACpB,GAAIuE,EAAEvD,KAAKiE,OAAQ,CACtB,GAAsB,uBAAlBV,EAAEvD,KAAKiE,OACP,OAAOT,OAAOC,SAAW,sBAE7BM,EAAWG,EAAWX,EAAEvD,KAAKiE,aAElC,SAAC9C,GACAqC,OAAOC,SAAW,YAIpBS,EAAa,SAACD,GAChB,MAAe,4BAAXA,EACO,2QAEA,8LAIAE,EA/IM,SAACvD,GAElB,MAAgCC,mBAAS,CACrCuD,iBAAkB,KADtB,mBAAOpD,EAAP,KAAiBC,EAAjB,KAGA,EAA8BJ,mBAAS,IAAvC,mBAAOW,EAAP,KAAgBuC,EAAhB,KACA,EAA4ClD,oBAAS,GAArD,mBAAQwD,EAAR,KAAuBC,EAAvB,KAiBIC,EAAa3D,EAAMyB,mBAAmBG,MAAQ5B,EAAME,cAAcN,SAKtE,MAJwC,aAApCI,EAAME,cAAcC,cACpBwD,GAA0B3F,EAAUe,cAGhC,qCACJ,cAACqC,EAAA,EAAD,CAAKC,UAAU,6BAAf,SACI,wEAEJ,cAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,SACI,+XAEJ,eAACD,EAAA,EAAD,CAAKC,UAAU,KAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,2DAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAMyB,mBAAmBnC,SAEjC,cAACgC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,6EAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAMyB,mBAAmBC,YAEjC,cAACJ,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,qDAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAGH,UAAU,OAA7B,SACI,4BAAIrB,EAAMyB,mBAAmBE,gBAEjC,cAACL,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,qDAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,8BAAIxB,SAASG,EAAMyB,mBAAmBG,OAAS,EAAI5D,EAAUS,WAAWoD,iBAAxE,eAEJ,cAACP,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,2DAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAME,cAAcZ,SAE5B,cAACgC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,mFAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAME,cAAcR,UAE5B,cAAC4B,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,iEAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,8BAAIrB,EAAME,cAAcN,SAAxB,eAEJ,cAAC0B,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,iEAEP,eAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,UACI,8BAAIxB,SAAS8D,GAAc,EAAI3F,EAAUS,WAAWoD,iBAApD,aACuC,aAApC7B,EAAME,cAAcC,aAAgC,4GAE3D,cAACmB,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,uEAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAKrD,EAAUM,sBAAsB0B,EAAME,cAAcC,iBAE7D,cAACmB,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,uBAAOM,QAAQ,mBAAf,gDAEP,cAACR,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,OAA7B,SACI,uBAAO/B,KAAK,mBAAmByC,SAxFtB,SAACxB,GAClB,IAAIC,EAAID,EAAEE,OAAOnB,KACjBe,GAAY,SAAAK,GAAC,kCAASA,GAAT,kBAAaF,EAAID,EAAEE,OAAOE,WACK,OAAxCJ,EAAEE,OAAOE,MAAMiD,MAAM,gBACrBT,EAAW,oGACXO,GAAiB,KAEjBP,EAAW,oGACXO,GAAiB,KAgF0C1B,GAAG,mBAAmBX,UAAU,sBAG/F,eAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAIZ,MAER,cAACU,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,WAA7B,SACI,cAACe,EAAA,EAAD,CAAQC,QAAS,WAAMrC,EAAM+C,aAAa/E,EAAUE,mBAAoB2F,QAAQ,UAAhF,4BAEJ,cAACvC,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,WAA7B,SACKoC,GAAiB,cAACrB,EAAA,EAAD,CAAQC,QAAS,YAxF1B,WACjB,IAAIjD,EAAI,2BAAOY,EAAME,eAAkBE,GACvC8C,EAAU9D,EAAM+D,EAAYnD,EAAMsC,iBAAkBtC,EAAM+C,cAsFVe,IAAiBb,QAAQ,UAA/C,mC,SC1FnBc,EAtBK,SAAC/D,GACjB,OAAQ,mCACJ,eAACgE,EAAA,EAAD,CACIC,KAAMjE,EAAMiE,KACZC,SAAS,SACTC,UAAU,EACVC,UAAQ,EAJZ,UAMI,cAACJ,EAAA,EAAMK,KAAP,UACI,mBAAGC,KAAK,QAAR,SAAiBtE,EAAMY,YAE1BZ,EAAMuE,SACH,cAACP,EAAA,EAAMQ,OAAP,UACI,cAACpC,EAAA,EAAD,CAAQa,QAAQ,YAAYZ,QAASrC,EAAMuE,QAA3C,wBCkEdE,EAAc,SAACC,EAAW1E,EAAO2E,GAEnCnC,IAAMC,KAAKzD,EAASE,OAAS,MAAO,CAChCkE,QAASpD,EAAME,cAAckD,QAC7B1D,MAAOM,EAAME,cAAcR,MAC3BgF,UAAWA,IACZhC,MAAK,SAACzB,GACL,GAAuB,iBAAXA,EAAE7B,KACV,OAAOwD,OAAOC,SAAW,SAET,MAAhB5B,EAAE7B,KAAK0D,MACP9C,EAAM4E,iBAAiB3D,EAAE7B,KAAKyF,eAC9B7E,EAAM+C,aAAa/E,EAAUK,oBAE7BsG,EAAS,CACLV,MAAM,EACNrD,QAASkE,EAAe7D,EAAE7B,KAAKiE,QAC/BkB,QAAS,WAAO3B,OAAOmC,mBAGhC/B,OAAM,SAACzC,GACNoE,EAAS,CACLV,MAAM,EACNrD,QAAS,6OACT2D,QAAS,WAAO3B,OAAOmC,oBAK7BD,EAAiB,SAACzB,GACpB,MAAe,oBAAXA,EACO,uOACW,sBAAXA,GAEW,oBAAXA,GAEW,kBAAXA,EAHA,qNAKW,oBAAXA,EACA,mPACW,aAAXA,EACA,6LACW,cAAXA,EACA,yPACW,eAAXA,EACA,ySACW,kBAAXA,EACA,yPAEA,4NAIA2B,EA9HM,SAAChF,GAClB,MAA0BC,mBAAS,CAC/BgE,MAAM,EACNrD,QAAS,GACTyB,QAAS,OAHb,mBAAO4C,EAAP,KAAcN,EAAd,KA0BA,OApBAO,qBAAU,WACN,IAAMC,EAAOC,SAASC,qBAAqB,QAAQ,GAC7CC,EAAiBF,SAASG,cAAc,UAC9CD,EAAerD,KAAO,kBACtBqD,EAAeE,YAAYC,GAC3BN,EAAKK,YAAYF,GACjB1C,OAAO+B,SAAWA,EAClB/B,OAAOmC,WAAa,WAChBJ,EAAS,CACLV,MAAM,EACNrD,QAAS,GACT2D,QAAS,QAGjB3B,OAAO8C,MAAQ,SAAChB,GACZD,EAAYC,EAAW1E,EAAO2E,MAEnC,IAGK,qCACJ,cAACvD,EAAA,EAAD,CAAKC,UAAU,6BAAf,SACI,8EAEJ,cAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,SACI,+LAEJ,eAACD,EAAA,EAAD,CAAKC,UAAU,KAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,mBAAGA,UAAU,OAAb,SAAoB,uBAAOS,QAAQ,aAAf,gDAExB,eAACR,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,cAA9B,UACI,qBAAKW,GAAG,eACR,0IAEJ,cAACV,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,mBAAGA,UAAU,OAAb,SAAoB,uBAAOS,QAAQ,aAAf,0CAExB,eAACR,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,cAA9B,UACI,qBAAKW,GAAG,eACR,oLAEJ,cAACV,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,mBAAGA,UAAU,OAAb,SAAoB,uBAAOS,QAAQ,UAAf,8EAExB,eAACR,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,cAA9B,UACI,qBAAKW,GAAG,YACR,icAGR,eAACZ,EAAA,EAAD,CAAKC,UAAU,sBAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,mBAAGH,UAAU,aAAb,8IAEJ,cAACC,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,WAA7B,SACI,cAACe,EAAA,EAAD,CAAQC,QAAS,WAAKO,OAAOC,SAAS8C,KAAO,uBAAwB1C,QAAQ,QAA7E,4BAEJ,cAAC3B,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,WAA7B,SACI,cAACe,EAAA,EAAD,CAAQC,QAAS,WAAKO,OAAOkB,gBAAiBb,QAAQ,QAAtD,+BAIR,cAAC,EAAD,eAAiBgC,QA6DnBQ,EAAcL,SAASQ,eAAe,sBAAuB5G,EAASC,YAAhC,siBC7C7B4G,EAtFO,SAAC7F,GACnB,IAAIY,EAAU,GACVkF,EAAa,GACbC,EAAe,GACqB,WAApC/F,EAAME,cAAcC,aACpB2F,EAAa,qlBACbC,EAAe,mDACfnF,EAAU,KAAOZ,EAAM6E,cAAc/E,KAAK,SACC,aAApCE,EAAME,cAAcC,cAC3B2F,EAAa,+yBACbC,EAAe,uCACfnF,EAAU,wBACG5C,EAAUU,UAAYV,EAAUW,YACvC,KAAOX,EAAUY,aAAe,IAAMZ,EAAUa,gBAChD,+BAAab,EAAUc,mBAHnB,qcAOd,IAAI8C,EAAQ/B,SAASG,EAAME,cAAcN,SAAWI,EAAMyB,mBAAmBG,OAAS,EAAI5D,EAAUS,WAMpG,MALwC,aAApCuB,EAAME,cAAcC,cACpByB,GAAgB5D,EAAUe,cAAgB,EAAIf,EAAUS,WAE5DmD,EAAQA,EAAMC,iBAEN,qCACJ,cAACT,EAAA,EAAD,CAAKC,UAAU,6BAAf,SACI,4DAEJ,cAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,SACI,mBAAGiD,KAAK,QAAR,SAAiBwB,MAErB,eAAC1E,EAAA,EAAD,CAAKC,UAAU,KAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,iEAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAME,cAAckD,YAE5B,cAAC9B,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,2DAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAME,cAAcZ,SAE5B,cAACgC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,2DAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAMyB,mBAAmBnC,SAEjC,cAACgC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,6EAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,4BAAIrB,EAAMyB,mBAAmBC,YAEjC,cAACJ,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,qDAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,OAA7B,SACI,4BAAIrB,EAAME,cAAcN,aAE5B,cAAC0B,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAf,SACI,4BAAG,qDAEP,cAACF,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIH,UAAU,OAA7B,SACI,8BAAIO,EAAJ,cAEJ,cAACN,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,4BAAG,gCAAQuE,QAEf,cAACzE,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,OAA9B,SACI,0BAAU2E,KAAK,KAAK3E,UAAU,eAAea,MAAO,CAAC+D,SAAU,UAAWtF,MAAOC,SAGzF,eAACQ,EAAA,EAAD,CAAKC,UAAU,UAAf,UACI,cAACC,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAhB,SACI,qMAEJ,cAACF,EAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIH,UAAU,WAA9B,SACI,cAACe,EAAA,EAAD,CAAQa,QAAQ,UAAUZ,QAAS,WAAOO,OAAOC,SAAS8C,KAAO,uBAAjE,qGCFDO,MAzEH,SAAClG,GACX,IAmD6BgC,EAAImE,EA9CjC,EAAkClG,mBAASjC,EAAUC,iBAArD,mBAAOmI,EAAP,KAAkBrD,EAAlB,KAEA,EAA0C9C,mBAAS,CACjDsC,UAAW,EACXjD,KAAM,GACNI,MAAO,GACPE,SAAU,EACVO,YAAa,SACbiD,QAAS,IANX,mBAAOlD,EAAP,KAAsBoC,EAAtB,KAQA,EAAoDrC,mBAAS,MAA7D,mBAAOwB,EAAP,KAA2B4E,EAA3B,KACA,EAAsCpG,oBAAS,GAA/C,mBAAOqG,EAAP,KAAoBC,EAApB,KACA,EAA0CtG,mBAAS,MAAnD,mBAAO4E,EAAP,KAAsBD,EAAtB,KAGM4B,EAASC,IAAYC,MAAM1G,EAAM6C,SAAS8D,QAChD,IAAOhH,MAAM6G,EAAOI,YAAwC,OAAvBnF,IAAmC6E,EAAc,CACpF,IAAI/D,EAAY1C,SAAS2G,EAAOI,WA6BL5E,EA5BLO,EA4BS4D,EAnDC,SAACU,GACjCR,EAAsBQ,GACtBvE,GAAiB,SAAC5B,GAAD,mBAAC,eAAWA,GAAZ,IAAe6B,UAAWsE,EAAKtE,eAChDQ,EAAa/E,EAAUE,mBAiDzBsE,IAAMsE,IAAI9H,EAASE,OAAS,wBAA0B8C,GAAIU,MAAK,SAACC,GAE9D,MAAyB,iBAAXA,EAAEvD,KACPwD,OAAOC,SAAW,SAEtBF,EAAEvD,KAAK2H,SACHZ,EAAK,CACV5D,UAAWP,EACX1C,KAAMqD,EAAEvD,KAAK2H,SAASzH,KACtBoC,QAASiB,EAAEvD,KAAK2H,SAASrF,QACzBC,YAAagB,EAAEvD,KAAK2H,SAASpF,YAC7BC,MAAOe,EAAEvD,KAAK2H,SAASnF,aAN3B,KASCoB,OAAM,SAACzC,GAERqC,OAAOC,SAAW,WA5ClB0D,GAAe,GAGjB,OAAIH,IAAcpI,EAAUE,iBAExB,cAAC,EAAD,CAAWuD,mBAAoBA,EAAoBvB,cAAeA,EAAeoC,iBAAkBA,EAAkBS,aAAcA,IAE5HqD,IAAcpI,EAAUG,mBAE/B,cAAC,EAAD,CAAcsD,mBAAoBA,EAAoBvB,cAAeA,EAAeoC,iBAAkBA,EAAkBS,aAAcA,IAE/HqD,IAAcpI,EAAUI,oBACC,aAA9B8B,EAAcC,aAChB4C,EAAa/E,EAAUK,mBAGvB,cAAC,EAAD,CAAc6B,cAAeA,EAAe6C,aAAcA,EAAc6B,iBAAkBA,KAEnFwB,IAAcpI,EAAUK,kBAE/B,cAAC,EAAD,CAAeoD,mBAAoBA,EAAoBvB,cAAeA,EAAe6C,aAAcA,EAAc8B,cAAeA,IAG5H,mEC1CKmC,EAhBD,WACV,OAAQ,qCACJ,cAAC5F,EAAA,EAAD,CAAKC,UAAU,6BAAf,SACI,sDAEJ,cAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,SACI,2SAEJ,cAACD,EAAA,EAAD,CAAKC,UAAU,UAAf,SACI,cAACC,EAAA,EAAD,CAAKD,UAAU,cAAf,SACI,wBAAQA,UAAU,uBAAuBgB,QAAS,WAAKO,OAAOC,SAAW,sBAAzE,4ECCDoE,EAVM,WACjB,OACI,cAAC7F,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,CAAKD,UAAU,KAAf,SACI,oBAAIA,UAAU,KAAd,+BC6BD6F,MAxBf,WAWE,OAVAC,IAAMjC,WAAU,WACd,IAAIkC,EAAQhC,SAASiC,eAAe,YACpC,GAAID,EAAO,CACT,IAAIE,EAAKF,EAAMG,WACXD,IACFA,EAAGE,aAAa,cAAe,QAC/BF,EAAGE,aAAa,WAAY,UAG/B,IAED,eAACC,EAAA,EAAD,CAAWvF,MAAO,CAAE,YAAa,SAAjC,UACE,cAAC,EAAD,IACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwF,KAAK,SAASC,UAAWX,IAChC,cAAC,IAAD,CAAOU,KAAK,IAAIC,UAAWzB,aCdtB0B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBpF,MAAK,YAAkD,IAA/CqF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlD,SAASiC,eAAe,SAM1BO,M","file":"public/js/main.ce156371.chunk.js","sourcesContent":["import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nconst constants = {\r\n    ORDER_STEP_NONE: 0,\r\n    ORDER_STEP_INPUT: 1,\r\n    ORDER_STEP_CONFIRM: 2,\r\n    ORDER_STEP_PAYMENT: 3,\r\n    ORDER_STEP_FINISH: 4,\r\n    PAYMENT_TYPE_JAPANESE: {\r\n        credit: \"クレジットカード決済\",\r\n        transfer: \"銀行振込\"\r\n    },\r\n    TAX_RATE: 0.1,\r\n    BANK_NAME: \"三菱UFJ銀行\",\r\n    BANK_BRANCH: \"玉川支店\",\r\n    BANK_ACCOUNT: \"普通\",\r\n    BANK_ACCOUNT_NO: \"0909939\",\r\n    BANK_ACCOUNT_OWNER: \"アクセシブル　ツールズ　ラボラトリー　コウチ　ユウキ\",\r\n    TRANSFER_FEE: 500\r\n};\r\n\r\nexport default constants;\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nconst settings = {\r\n    payjpPubKey: \"pk_test_dc4d41ac8831db10debf2dfa\",\r\n\tapiUrl: \"https://stg.actlab.org/api/store/\",\r\n};\r\n\r\nexport default settings;\r\n","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\n\r\nimport settings from \"../../settings\";\r\nimport constants from \"../../constants\";\r\n\r\n\r\nconst InputForm = (props) => {\r\n    \r\n    const [formData, setFormData] = useState({\r\n        name: props.orderFormData.name,\r\n        email: props.orderFormData.email,\r\n        quantity: props.orderFormData.quantity,\r\n        paymentType: props.orderFormData.paymentType\r\n    });\r\n    const handleChange = (e) => {\r\n        let k = e.target.name;\r\n        setFormData(s => ({...s, [k]: e.target.value}));\r\n    }\r\n    const handleSubmit = () => {\r\n        props.setOrderFormData({...formData, productId: props.productInformation.productId, quantity: parseInt(formData.quantity)});\r\n        axios.post(settings.apiUrl + \"setemail\", {\"email\": formData.email}).then((r)=> {\r\n            // return console.log(r.data);\r\n            if   ((typeof r.data) != \"object\") {\r\n                return window.location = \"/error\";\r\n            }\r\n            if (r.data.code === 200) {\r\n                props.setOrderStep(constants.ORDER_STEP_CONFIRM);\r\n            } else {\r\n                window.location = \"error\";\r\n            }\r\n        }).catch((e) => {\r\n            // return console.log(e.response.data);\r\n            window.location = \"error\";\r\n        });\r\n    }\r\n\r\n    let message = validateForm(formData);\r\n    let nextButton = false;\r\n    if (message === \"\") {\r\n        message = \"次の画面で、あなたのメールアドレスと注文内容を確認します。\";\r\n        nextButton = true;\r\n    }\r\n\r\n    let paymentTypeCombo = [];\r\n    for (const [k,v] of Object.entries(constants.PAYMENT_TYPE_JAPANESE)) {\r\n        if (k === \"transfer\") {\r\n            paymentTypeCombo.push(<option key={k} value={k}>{v + \" (支払い事務手数料\" + constants.TRANSFER_FEE * (1 + constants.TAX_RATE)}円)</option>);\r\n        } else {\r\n            paymentTypeCombo.push(<option key={k} value={k}>{v}</option>);\r\n        }\r\n    }\r\n\r\n    let quantityCombo = [];\r\n    for(let i=1; i <= 10; i++) {\r\n        quantityCombo.push(<option key={i} value={i}>{i}個</option>);\r\n    }\r\n    \r\n    return (<>\r\n        <Row className=\"bg-primary text-white mb-4\">\r\n            <h2>注文情報入力</h2>\r\n        </Row>\r\n        <Row className=\"p2 mb-2\">\r\n            <p>以下に必要事項を入力し、次へボタンを押してください。</p>\r\n            <p>\r\n\t\t\t\t*クレジットカード決済でご注文される際は、GoogleChrome、またはFirefoxのそれぞれ最新版をご利用ください。\r\n\t\t\t\tInternetExplorerではクレジットカード決済を行うことができませんので、銀行振込をご利用ください。\r\n\t\t\t\tNetReaderなど、その他のブラウザについては動作確認を行っておりません。\r\n\t\t\t</p>\r\n        </Row>\r\n        <Row className=\"p2\">\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>製品名</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.productInformation.name}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>エディション</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.productInformation.edition}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>説明</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\"className=\"mb-2\">\r\n                <p>{props.productInformation.discription}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>価格</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{parseInt(props.productInformation.price * (1 + constants.TAX_RATE)).toLocaleString()} 円</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label htmlFor=\"orderForm-name\">お名前</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"pb-2 mb-2\">\r\n                <input name=\"name\" value={formData.name} onChange={handleChange} className=\"form-control\" id=\"orderForm-name\" type=\"text\"/>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label htmlFor=\"orderForm-email\">メールアドレス</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"pb-2 mb-2\">\r\n                <input name=\"email\" value={formData.email} onChange={handleChange} className=\"form-control\" id=\"orderForm-email\" type=\"text\"/>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label htmlFor=\"orderForm-quantity\">購入個数</label></p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"9\" className=\"pb-2 mb-2\">\r\n                <Col md=\"3\">\r\n                    <select name=\"quantity\" value={formData.quantity} onChange={handleChange} className=\"form-control\">{quantityCombo}</select>\r\n                </Col>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label htmlFor=\"orderForm-paymentType\">支払い方法</label></p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"9\" className=\"pb-2 mb-2\">\r\n                <Col md=\"5\">\r\n                    <select name=\"paymentType\" value={formData.paymentType} onChange={handleChange} className=\"form-control\">{paymentTypeCombo}</select>\r\n                </Col>\r\n            </Col>\r\n        </Row>\r\n        <Row className=\"p2 mt-2\">\r\n            <Col xs=\"12\" md=\"8\">\r\n                <p style={{whiteSpace: \"pre-wrap\"}}>{message}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"4\" className=\"text-end\">\r\n                {nextButton && <Button onClick={()=>{handleSubmit()}} variant=\"success\">次へ</Button>}\r\n            </Col>\r\n        </Row>\r\n    </>);\r\n}\r\n\r\nconst validateForm = (data) => {\r\n    let errMessages = [];\r\n    if (data.name.length < 2) {\r\n        errMessages.push(\"・お名前を、２文字以上で入力してください。\");\r\n    }\r\n    if (!(/^([a-zA-Z0-9][._\\-?+]?)+[a-zA-Z0-9]@([a-zA-Z0-9]+\\.)+[a-zA-Z0-9]+$/.test(data.email))) {\r\n        errMessages.push(\"・メールアドレスが誤っています。\");\r\n    }\r\n    if ((isNaN(data.quantity)) || (parseInt(data.quantity) <= 0) || (parseInt(data.quantity) > 10)) {\r\n        errMessages.push(\"・購入個数は、１～10までで指定してください。\");\r\n    }\r\n    \r\n    if (errMessages.length === 0) {\r\n        return \"\";\r\n    } else if(errMessages.length === 3) {\r\n        return \"必要事項を入力してください。\";\r\n    } else{\r\n        return errMessages.join(\"\\n\");\r\n    }\r\n}\r\n\r\nexport default InputForm;\r\n","import { useState } from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nimport settings from \"../../settings\";\r\nimport constants from \"../../constants\";\r\n\r\n\r\nconst ConfirmOrder = (props) => {\r\n    \r\n    const [formData, setFormData] = useState({\r\n        confirmationCode: \"\"\r\n    });\r\n    const [message, setMessage] = useState(\"\");\r\n    const [ successButton, setSuccessButton ] = useState(false);\r\n    const handleChange = (e) => {\r\n        let k = e.target.name;\r\n        setFormData(s => ({...s, [k]: e.target.value}));\r\n        if (e.target.value.match(/^[0-9]{6}$/g) === null) {\r\n            setMessage(\"認証コードの形式が誤っています。\");\r\n            setSuccessButton(false);\r\n        } else {\r\n            setMessage(\"注文を確定し、支払いに進みます。\");\r\n            setSuccessButton(true);\r\n        }\r\n    }\r\n    const handleSubmit = () => {\r\n        let data = {...props.orderFormData, ...formData};\r\n        sendOrder(data, setMessage, props.setOrderFormData, props.setOrderStep);\r\n    }\r\n\r\n    let totalPrice = props.productInformation.price * props.orderFormData.quantity;\r\n    if (props.orderFormData.paymentType === \"transfer\") {\r\n        totalPrice = totalPrice + constants.TRANSFER_FEE;\r\n    }\r\n\r\n    return (<>\r\n        <Row className=\"bg-primary text-white mb-4\">\r\n            <h2>注文内容確認</h2>\r\n        </Row>\r\n        <Row className=\"p2 mb-2\">\r\n            <p>以下の内容で注文を行います。よろしければ、お送りしたメール本文中の認証コードを入力し、確定ボタンを選択してください。</p>\r\n        </Row>\r\n        <Row className=\"p2\">\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>製品名</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.productInformation.name}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>エディション</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.productInformation.edition}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>説明</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\"className=\"mb-2\">\r\n                <p>{props.productInformation.discription}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>価格</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{parseInt(props.productInformation.price * (1 + constants.TAX_RATE)).toLocaleString()} 円</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>お名前</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.orderFormData.name}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>メールアドレス</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.orderFormData.email}</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label>購入個数</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.orderFormData.quantity} 個</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label>注文合計</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{parseInt(totalPrice * (1 + constants.TAX_RATE)).toLocaleString()} 円</p>\r\n                { (props.orderFormData.paymentType === \"transfer\") && (<p>（支払い事務手数料込み）</p>)}\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label>支払い方法</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{ constants.PAYMENT_TYPE_JAPANESE[props.orderFormData.paymentType] }</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label htmlFor=\"confirmForm_code\">認証コード</label></p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"6\" className=\"mb-2\">\r\n                <input name=\"confirmationCode\" onChange={handleChange} id=\"confirmForm_code\" className=\"form-control\" />\r\n            </Col>\r\n        </Row>\r\n        <Row className=\"p2 mt-2\">\r\n            <Col xs=\"12\" md=\"8\">\r\n                <p>{message}</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"2\" className=\"text-end\">\r\n                <Button onClick={()=> {props.setOrderStep(constants.ORDER_STEP_INPUT)}} valiant=\"success\">戻る</Button>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"2\" className=\"text-end\">\r\n                {successButton && <Button onClick={()=>{handleSubmit()}} variant=\"success\">次へ</Button>}\r\n            </Col>\r\n        </Row>\r\n    </>);\r\n}\r\n\r\nconst setOrder = (data) => {\r\n    return \"認証コードが誤っています。\"\r\n}\r\n\r\nconst sendOrder = (formData, setMessage, setFormData, setOrderStep) => {\r\n    axios.post(settings.apiUrl + \"order\", formData).then((r) => {\r\n        if   ((typeof r.data) != \"object\") {\r\n            return window.location = \"/error\";\r\n        }\r\n        if ((r.data.code === 200) && (r.data.orderId)) {\r\n            setFormData(s => ({...s, orderId: r.data.orderId}));\r\n            setOrderStep(constants.ORDER_STEP_PAYMENT);\r\n        } else if (r.data.reason) {\r\n            if (r.data.reason === \"confirmation faild\") {\r\n                return window.location = \"https://actlab.org/\";\r\n            }\r\n            setMessage(getMessage(r.data.reason));\r\n        }\r\n    }, (e) => {\r\n        window.location = \"error\";\r\n    });\r\n}\r\n\r\nconst getMessage = (reason) => {\r\n    if (reason === \"wrong confirmation code\") {\r\n        return \"認証コードが誤っています。一定数以上間違えると、注文を中止し、トップページに移動します。\";\r\n    } else {\r\n        return \"不明なエラーが発生しました。時間をおいて、再度お試しください。\";\r\n    }\r\n}\r\n\r\nexport default ConfirmOrder;\r\n","import { Modal, Button } from \"react-bootstrap\";\r\n\r\nconst ModalDialog = (props) => {\r\n    return (<>\r\n        <Modal\r\n            show={props.show}\r\n            backdrop=\"static\"\r\n            keyboard={false}\r\n            centered\r\n        >\r\n            <Modal.Body>\r\n                <p role=\"alert\">{props.message}</p>\r\n            </Modal.Body>\r\n            {props.onClose && \r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={props.onClose}>\r\n                        OK\r\n                    </Button>\r\n                </Modal.Footer>\r\n            }\r\n        </Modal>\r\n    </>);\r\n}\r\n\r\nexport default ModalDialog;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nimport ModalDialog from \"./ModalDialog\";\r\nimport settings from \"../../settings\";\r\nimport constants from \"../../constants\";\r\n\r\nconst PaymentOrder = (props) => {\r\n    const [modal, setModal] = useState({\r\n        show: false,\r\n        message: \"\",\r\n        onClick: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        const body = document.getElementsByTagName(\"body\")[0];\r\n        const setupScriptElm = document.createElement('script');\r\n        setupScriptElm.type = 'text/javascript';\r\n        setupScriptElm.appendChild(setupScript);\r\n        body.appendChild(setupScriptElm);\r\n        window.setModal = setModal;\r\n        window.modalClose = () => {\r\n            setModal({\r\n                show: false,\r\n                message: \"\",\r\n                onClose: null\r\n            });\r\n        }\r\n        window.paied = (cardToken)=> {\r\n            createOrder(cardToken, props, setModal);\r\n        }\r\n    }, []);\r\n\r\n\r\n    return (<>\r\n        <Row className=\"bg-primary text-white mb-4\">\r\n            <h2>支払い情報入力</h2>\r\n        </Row>\r\n        <Row className=\"p2 mb-2\">\r\n            <p>以下に必要事項を入力し、確定ボタンを押してください。</p>\r\n        </Row>\r\n        <Row className=\"p2\">\r\n            <Col xs=\"12\" md=\"3\" className=\"mt-2\">\r\n                <p className=\"mb-0\"><label htmlFor=\"cardNumber\">カード番号</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"p-2 bg-info\">\r\n                <div id=\"cardNumber\"></div>\r\n                <p>カード番号は、16桁です。（例）0000111122223333</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\" className=\"mt-2\">\r\n                <p className=\"mb-0\"><label htmlFor=\"cardExpiry\">有効期限</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"p-2 bg-info\">\r\n                <div id=\"cardExpiry\"></div>\r\n                <p>有効期限は、月2桁、年2桁の順で入力します。（例）0322</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\" className=\"mt-2\">\r\n                <p className=\"mb-0\"><label htmlFor=\"cardCvc\">セキュリティコード (CVC)</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"p-2 bg-info\">\r\n                <div id=\"cardCvc\"></div>\r\n                <p>セキュリティコード（CVC）は、カード裏面の署名欄右上に記載の3桁の数字です。カードにより、記載位置が異なる場合や、4桁の場合があります。（例）555</p>\r\n            </Col>\r\n        </Row>\r\n        <Row className=\"p-2 mt-2 bg-success\">\r\n            <Col xs=\"12\" md=\"8\">\r\n                <p className=\"text-white\">支払い確定後、変更や払い戻しはできません。</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"2\" className=\"text-end\">\r\n                <Button onClick={()=>{window.location.href = \"https://actlab.org/\"}} variant=\"light\">中止</Button>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"2\" className=\"text-end\">\r\n                <Button onClick={()=>{window.handleSubmit()}} variant=\"light\">次へ</Button>\r\n            </Col>\r\n        </Row>\r\n\r\n        <ModalDialog {...modal} />\r\n    </>);\r\n}\r\n\r\nconst createOrder = (cardToken, props, setModal) => {\r\n    //console.log(props.orderFormData);\r\n    axios.post(settings.apiUrl + \"pay\", {\r\n        orderId: props.orderFormData.orderId,\r\n        email: props.orderFormData.email,\r\n        cardToken: cardToken\r\n    }).then((v) => {\r\n        if ((typeof v.data) != \"object\") {\r\n            return window.location = \"/error\";\r\n        }\r\n        if (v.data.code === 200) {\r\n            props.setSerialnumbers(v.data.serialnumbers);\r\n            props.setOrderStep(constants.ORDER_STEP_FINISH);\r\n        } else{\r\n            setModal({\r\n                show: true,\r\n                message: reason2Message(v.data.reason),\r\n                onClose: () => {window.modalClose();}\r\n            });\r\n        }\r\n    }).catch((e) => {\r\n        setModal({\r\n            show: true,\r\n            message: \"不明なエラーが発生しました。恐れ入りますが、時間をおいて、再度お試しください。\",\r\n            onClose: () => {window.modalClose();}\r\n        });\r\n    });\r\n}\r\n\r\nconst reason2Message = (reason) => {\r\n    if (reason === \"invalid request\") {\r\n        return \"不明なエラーが発生しました。お手数ですが、時間をおいて、再度お試しください。\";\r\n    } else if (reason === \"invalid cardToken\") {\r\n        return \"エラーが発生しました。お手数ですが、時間をおいて、再度お試しください。\";\r\n    } else if (reason === \"invalid orderId\") {\r\n        return \"エラーが発生しました。お手数ですが、時間をおいて、再度お試しください。\";\r\n    } else if (reason === \"invalid email\") {\r\n        return \"エラーが発生しました。お手数ですが、時間をおいて、再度お試しください。\";\r\n    } else if (reason === \"order not found\") {\r\n        return \"エラーが発生しました。お手数ですが、時間をおいて、最初からやりなおしてください。\";\r\n    } else if (reason === \"no stock\") {\r\n        return \"申し訳ありません。現在在庫切れです。次回入荷をお待ちください。\";\r\n    } else if (reason === \"cvc error\") {\r\n        return \"カード決済に失敗しました。入力内容をご確認いただくか、別のカードをご利用ください。\";\r\n    } else if (reason === \"card error\") {\r\n        return \"カード決済に失敗しました。別のカードをご利用いただくか、発行元のカード会社にお問い合わせください。\";\r\n    } else if (reason === \"network error\") {\r\n        return \"現在、通信障害が発生しております。お手数ですが、時間をおいて、再度お試しください。\";\r\n    } else {\r\n        return \"エラーが発生しました。恐れ入りますが、時間をおいて、再度お試しください。\";\r\n    }\r\n}\r\n\r\nexport default PaymentOrder;\r\n\r\n\r\n// constants\r\nconst setupScript = document.createTextNode(\"var payjp = Payjp('\"+ settings.payjpPubKey +\"');\"+\r\n    \"var elements = payjp.elements();\"+\r\n    \"var cardNumberElm = elements.create('cardNumber');\"+\r\n    \"var cardExpiryElm = elements.create('cardExpiry');\"+\r\n    \"var cardCvcElm = elements.create('cardCvc');\"+\r\n    \"cardNumberElm.mount('#cardNumber');\"+\r\n    \"cardExpiryElm.mount('#cardExpiry');\"+\r\n    \"cardCvcElm.mount('#cardCvc');\"+\r\n    \"var handleSubmit = () => {\"+\r\n    \"setModal({\"+\r\n    \"show: true, message: 'カード決済中...', onClose: null\"+\r\n    \"});\"+\r\n    \"payjp.createToken(cardNumberElm).then((r)=> {\"+\r\n    \"if (r.error){setModal({\"+\r\n    \"show: true, message: r.error.message, onClose: modalClose\"+\r\n    \"});}\"+\r\n    \"else {paied(r.id);}\"+\r\n    \"});\"+\r\n    \"}\"\r\n);\r\n","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\"; import \"react-router-dom\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\n\r\nimport constants from \"../../constants\";\r\n\r\n\r\nconst OrderFinished = (props) => {\r\n    let message = \"\";\r\n    let topMessage = \"\";\r\n    let labelMessage = \"\";\r\n    if (props.orderFormData.paymentType === \"credit\") {\r\n        topMessage = \"ご注文ありがとうございました。シリアル番号を発行いたしましたので、ご確認の上、大切に保管してください。シリアル番号はメールでもお送りしていますが、この画面を閉じる前にメールの到着を確認してください。\";\r\n        labelMessage = \"シリアル番号一覧\";\r\n        message = \"* \" + props.serialnumbers.join(\"\\n* \");\r\n    } else if (props.orderFormData.paymentType === \"transfer\") {\r\n        topMessage = \"ご注文ありがとうございました。7日以内に、以下の内容にてお振込みください。振込先などについてはメールでもお送りしています。お振込みの前に、メールが受信できていることをご確認ください。お支払いが確認できましたら、5営業日以内にシリアル番号をメールにてお送りさせていただきます。\";\r\n        labelMessage = \"お支払い情報\";\r\n        message = \"振込先:\"\r\n            + \"\\n\" + constants.BANK_NAME + constants.BANK_BRANCH\r\n            + \"\\n\" + constants.BANK_ACCOUNT + \" \" + constants.BANK_ACCOUNT_NO\r\n            + \"\\n口座名義: \" + constants.BANK_ACCOUNT_OWNER\r\n            + \"\\n* 振込人名には、注文番号と、先ほどご入力されたお名前を指定してください。（例：　13 ヤマダタロウ）\"\r\n            + \"\\n* 上記金額を、振込手数料お客様負担にてお支払いください。\";\r\n    }\r\n    let price = parseInt(props.orderFormData.quantity * props.productInformation.price * (1 + constants.TAX_RATE));\r\n    if (props.orderFormData.paymentType === \"transfer\") {\r\n        price = price + constants.TRANSFER_FEE * (1 + constants.TAX_RATE);\r\n    }\r\n    price = price.toLocaleString();\r\n\r\n    return (<>\r\n        <Row className=\"bg-primary text-white mb-4\">\r\n            <h2>注文完了</h2>\r\n        </Row>\r\n        <Row className=\"p2 mb-2\">\r\n            <p role=\"alert\">{topMessage}</p>\r\n        </Row>\r\n        <Row className=\"p2\">\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>注文番号</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.orderFormData.orderId}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>お名前</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.orderFormData.name}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>製品名</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.productInformation.name}</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>エディション</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <p>{props.productInformation.edition}</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label>個数</label></p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\" className=\"mb-2\">\r\n                <p>{props.orderFormData.quantity}</p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\">\r\n                <p><label>金額</label></p>\r\n            </Col>\r\n            <Col xs=\"6\" md=\"3\" className=\"mb-2\">\r\n                <p>{price }円</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\">\r\n                <p><label>{labelMessage}</label></p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"9\" className=\"mb-2\">\r\n                <textarea rows=\"10\" className=\"form-control\" style={{overflow: \"hidden\"}} value={message} />\r\n            </Col>\r\n        </Row>\r\n        <Row className=\"p2 mt-2\">\r\n            <Col xs=\"12\" md=\"8\">\r\n                <p>上記内容は、なくさないように、大切に保管してください。</p>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"4\" className=\"text-end\">\r\n                <Button variant=\"success\" onClick={() => {window.location.href = \"https://actlab.org/\"}}>内容を確認し、保存しました</Button>\r\n            </Col>\r\n        </Row>\r\n    </>);\r\n}\r\n\r\nexport default OrderFinished;\r\n","import { useState } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport axios from \"axios\";\r\n\r\nimport constants from \"../../constants\";\r\nimport settings from \"../../settings\";\r\nimport InputForm from \"./InputForm\";\r\nimport ConfirmOrder from \"./ConfirmOrder\";\r\nimport PaymentOrder from \"./paymentOrder\";\r\nimport OrderFinished from \"./OrderFinished\";\r\n\r\n\r\nconst Top = (props) => {\r\n  const setProductInformationProc = (info) => {\r\n    setProductInformation(info);\r\n    setOrderFormData((s) => ({...s, productId: info.productId}));\r\n    setOrderStep(constants.ORDER_STEP_INPUT);\r\n  }\r\n  const [orderStep, setOrderStep] = useState(constants.ORDER_STEP_NONE);\r\n\r\n  const [orderFormData, setOrderFormData] = useState({\r\n    productId: 0,\r\n    name: \"\",\r\n    email: \"\",\r\n    quantity: 1,\r\n    paymentType: \"credit\",\r\n    orderId: 0\r\n  });\r\n  const [productInformation, setProductInformation] = useState(null);\r\n  const [initialized, setInitialized] = useState(false);\r\n  const [serialnumbers, setSerialnumbers] = useState(null);\r\n  \r\n  // ページ初期化\r\n  const params = queryString.parse(props.location.search);\r\n  if ((!(isNaN(params.productid))) && (productInformation === null) && (!(initialized))){\r\n    let productId = parseInt(params.productid);\r\n    getProductInformation(productId, setProductInformationProc);\r\n    setInitialized(true);\r\n  }\r\n  \r\n  if (orderStep === constants.ORDER_STEP_INPUT) {\r\n    return (\r\n      <InputForm productInformation={productInformation} orderFormData={orderFormData} setOrderFormData={setOrderFormData} setOrderStep={setOrderStep} />\r\n    );\r\n  } else if (orderStep === constants.ORDER_STEP_CONFIRM) {\r\n    return (\r\n      <ConfirmOrder productInformation={productInformation} orderFormData={orderFormData} setOrderFormData={setOrderFormData} setOrderStep={setOrderStep} />\r\n    );\r\n  } else if (orderStep === constants.ORDER_STEP_PAYMENT) {\r\n    if (orderFormData.paymentType === \"transfer\") {\r\n      setOrderStep(constants.ORDER_STEP_FINISH);\r\n    }\r\n    return (\r\n      <PaymentOrder orderFormData={orderFormData} setOrderStep={setOrderStep} setSerialnumbers={setSerialnumbers} />\r\n    );\r\n  } else if (orderStep === constants.ORDER_STEP_FINISH) {\r\n    return (\r\n      <OrderFinished productInformation={productInformation} orderFormData={orderFormData} setOrderStep={setOrderStep} serialnumbers={serialnumbers} />\r\n    );\r\n  }\r\n  return (<p>読み込み中...</p>);\r\n}\r\n\r\n\r\nfunction getProductInformation(id, func){\r\n  axios.get(settings.apiUrl + \"getproduct?productid=\" + id).then((r) => {\r\n//    return console.log(r.data);\r\n    if   ((typeof r.data) != \"object\") {\r\n      return window.location = \"/error\";\r\n    }\r\n    if ((r.data.software)) {\r\n      return func({\r\n        productId: id,\r\n        name: r.data.software.name,\r\n        edition: r.data.software.edition,\r\n        discription: r.data.software.discription,\r\n        price: r.data.software.price\r\n      });\r\n    }\r\n  }).catch((e) => {\r\n//    return console.log(e.response.data);\r\n    window.location = \"error\";\r\n  });\r\n}\r\n\r\nexport default Top;\r\n","import { Row, Col } from \"react-bootstrap\";\r\n\r\nconst Error = () => {\r\n    return (<>\r\n        <Row className=\"bg-primary text-white mb-4\">\r\n            <h2>エラー</h2>\r\n        </Row>\r\n        <Row className=\"p2 mb-2\">\r\n            <p>不明なエラーが発生しました。恐れ入りますが、時間をおいて、再度アクセスしてみてください。</p>\r\n        </Row>\r\n        <Row className=\"p2 mb-2\">\r\n            <Col className=\"12 text-end\">\r\n                <button className=\"btn btn-success px-3\" onClick={()=>{window.location = \"https://actlab.org\"}}>トップページに戻る</button>\r\n            </Col>\r\n        </Row>\r\n    </>);\r\n}\r\n\r\nexport default Error;\r\n","import { useEffect } from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nconst SharedHeader = () => {\r\n    return (\r\n        <Row>\r\n            <Col className=\"12\">\r\n                <h1 className=\"h1\">ACTLab Store</h1>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default SharedHeader;","import React from \"react\";\r\nimport \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport { Container } from \"react-bootstrap\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Top from \"./contents/main/Top\";\r\nimport Error from \"./contents/error/Error\";\r\nimport SharedHeader from \"./contents/shared/Header\";\r\n\r\nfunction App() {\r\n  React.useEffect(() => {\r\n    let addiv = document.getElementById(\"vdbanner\");\r\n    if (addiv) {\r\n      let ad = addiv.firstChild;\r\n      if (ad) {\r\n        ad.setAttribute(\"aria-hidden\", \"true\");\r\n        ad.setAttribute(\"tabindex\", \"-1\");\r\n      }\r\n    }\r\n  }, []);\r\n  return (\r\n    <Container style={{ \"max-width\": \"720px\" }}>\r\n      <SharedHeader />\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/error\" component={Error} />\r\n          <Route path=\"/\" component={Top} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nconst reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}