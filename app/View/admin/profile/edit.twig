{% set page_title = "プロフィール編集" %}

{#レイアウト継承#}
{% extends "layout/layout.twig" %}


{# スタイルシートの追加 #}
{% block header_scripts_add %}
{% endblock %}

{# ページ本文 #}
{% block page_content %}
	{% if message!=null %}
			<div class="alert-danger p-3">{{ message }}</div>
	{% endif %}

	<div class="jumbotron">
		<h2 class="text-center">
			プロフィール編集
		</h2>
		<div class="container">
			<p>
				<p>登録情報を変更します。</p>
				<p>公開情報の変更には他のメンバーによる確認、メールアドレスの変更には新たなメールアドレスに届く確認メールに記載されたリンクのクリックが必用です。</p>
				<p>また、パスワードの変更に成功すると、直ちに管理者ページからログアウトされます。</p>
			</p>
		</div>
	</div>


	<div class="text-white bg-primary p-1">
		<h3>公開情報変更</h3>
	</div>
	<form method="post">
		<div class="container py-5">
			<div class="row">
				<div class="col-3">
					<label for="name_input">表示名</label>
				</div>
				<div class="col-9">
					<input id="name_input" type="text" name="name" value="{{ name }}" required>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<label for="introduction_area">自己紹介(改行は&lt;br&gt;を利用)</label>
				</div>
				<div class="col-9">
					<textarea id="introduction_area" name="introduction" style="width: 100%;" required>{{ introduction }}</textarea>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<label for="twitter_input">Twitter<br>(@はつけずにユーザ名のみ)</label>
				</div>
				<div class="col-9">
					<input id="twitter_input" type="text" name="twitter" value="{{ twitter }}">
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<label for="github_input">GitHubのユーザー名</label>
				</div>
				<div class="col-9">
					<input id="github_input" type="text" name="github" value="{{ github }}" required>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<label for="url_input">個人ホームページURL</label>
				</div>
				<div class="col-9">
					<input id="url_input" type="text" name="url" value="{{ url }}">
				</div>
			</div>
			<input type="hidden" name="type" value="publicInformation">
			<input type="hidden" name="id" value="{{ id }}">
			<input type="submit" value="確認">
		</div>
	</form>

	<div class="text-white bg-primary p-1">
		<h3>登録メールアドレス変更</h3>
	</div>
	<form method="post">
		<div class="container py-5">
			<div class="row">
				<div class="col-3">
					<label for="new_input">新しいメールアドレス</label>
				</div>
				<div class="col-9">
					<input id="new_input" type="email" name="new" required>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<label for="new_confirm_input">確認のため再入力</label>
				</div>
				<div class="col-9">
					<input id="new_confirm_input" type="email" name="new_confirm" required>
				</div>
			</div>
			<input type="hidden" name="type" value="email">
			<input type="submit" value="変更">
		</div>
	</form>


	<div class="text-white bg-primary p-1">
		<h3>パスワード変更</h3>
	</div>
	<form method="post">
		<div class="container py-5">
			<div class="row">
				<div class="col-3">
					<label for="pw_now_input">現在のパスワード</label>
				</div>
				<div class="col-9">
					<input id="pw_now_input" type="password" name="pw_now" required>
				</div>
			</div>

			<div class="row">
				<div class="col-3">
					<label for="pw_new_input">新しいパスワード</label>
				</div>
				<div class="col-9">
					<input id="pw_new_input" type="password" name="pw_new" required>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<label for="pw_new_confirm_input">確認のため再入力</label>
				</div>
				<div class="col-9">
					<input id="pw_new_confirm_input" type="password" name="pw_new_confirm" required>
				</div>
			</div>
			<input type="hidden" name="type" value="password">
			<input type="submit" value="変更">
		</div>
	</form>

	{% if slack %}
		<div class="text-white bg-primary p-1">
			<h3>Slackアカウントの登録解除</h3>
		</div>
		<form method="post">
			<div class="container py-5">
				<div class="row">
					<div class="col-3">
						<label for="slack">登録済のSlackアカウントID</label>
					</div>
					<div class="col-9">
						<input id="slack" type="text" name="slack" readonly="true" value="{{ slack }}">
					</div>
				</div>

				<div class="row">
					<div class="col-3">
						<label for="slack-del">解除するには上記のIDを入力</label>
					</div>
					<div class="col-9">
						<input id="slack-del" type="text" name="slack-del" required>
					</div>
				</div>

				<input type="hidden" name="type" value="slack-del">
				<input type="submit" value="登録を解除">
			</div>
		</form>
	{% endif %}

{% endblock %}

{# フッダ以降に追加する内容 #}
{% block footer_scripts_add %}
{% endblock %}
